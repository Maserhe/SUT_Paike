"use strict";(self["webpackChunkpaike_sut"]=self["webpackChunkpaike_sut"]||[]).push([[572],{37572:function(t,n,e){e.r(n),e.d(n,{default:function(){return R}});e(67437),e(9910),e(80033),e(46226),e(20877),e(97579),e(28474),e(76905),e(83069),e(86809),e(172),e(89007),e(70451),e(33877),e(17960),e(67219);var i=e(4143),s=e(54827),a=e(51853),u=e(61832),o=e(41015),r=e(43209),l=e(10426),c=e(71267),f=e(73060),d=e(76739),h=e(57927),m=e(61244),p=(e(47042),e(74916),e(64765),e(73396)),y=e(87139),g=e(49242),w=function(t){return(0,p.dD)("data-v-04a84762"),t=t(),(0,p.Cn)(),t},b=w((function(){return(0,p._)("h4",null,"报修信息管理",-1)})),S=w((function(){return(0,p._)("br",null,null,-1)})),L={style:{display:"flex","align-items":"center"}},k=w((function(){return(0,p._)("p",{style:{"margin-right":"1rem"}},"学院",-1)})),W=w((function(){return(0,p._)("br",null,null,-1)})),x=(0,p.Uk)("维修管理"),_=(0,p.Uk)("学院"),C=(0,p.Uk)("实验室门牌号"),v=(0,p.Uk)("实验室类型"),z=(0,p.Uk)("故障描述"),Y=(0,p.Uk)(" 无需维修 "),U=(0,p.Uk)("故障描述"),V=w((function(){return(0,p._)("br",null,null,-1)})),D={key:0,style:{"text-align":"center"}},B=(0,p.Uk)("维修"),O=(0,p.Uk)("维修");function F(t,n,e,w,F,I){var N=m.os,T=h.BT,$=h.km,j=d.Mr,P=r.$Y,R=f.EZ,J=c.mi,H=l.R,K=r.eI,M=(0,p.up)("i-tickets"),Q=o.gn,Z=u.QQ,q=(0,p.up)("i-location-information"),A=(0,p.up)("i-timer"),E=(0,p.up)("i-remove-filled"),G=u.Lf,X=a.p8,tt=a.Ub,nt=s.d0,et=i.Kf;return(0,p.wg)(),(0,p.j4)(et,{class:"account-container"},{default:(0,p.w5)((function(){return[b,(0,p.Wm)(N),S,(0,p.Wm)(j,null,{default:(0,p.w5)((function(){return[(0,p._)("div",L,[k,(0,p.Wm)($,{modelValue:w.YxsOption,"onUpdate:modelValue":n[0]||(n[0]=function(t){return w.YxsOption=t}),placeholder:"选择学院",onChange:I.changeYxs,style:{"margin-right":"1rem"}},{default:(0,p.w5)((function(){return[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(F.YxsList,(function(t,n){return(0,p.wg)(),(0,p.j4)(T,{key:n,label:t.dwmc,value:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])])]})),_:1}),W,(0,p.Wm)(K,{data:I.getSysFilter.slice((F.currentPage-1)*F.pagesize,F.currentPage*F.pagesize),style:{width:"100%"}},{append:(0,p.w5)((function(){return[(0,p.Wm)(H,{onSizeChange:I.handleSizeChange,onCurrentChange:I.handleCurrentChange,"current-page":F.currentPage,"page-sizes":[5,10,20,40],"page-size":F.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:I.getSysFilter.length},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]})),default:(0,p.w5)((function(){return[(0,p.Wm)(P,{type:"index"}),(0,p.Wm)(P,{label:"实验名称",prop:"sysmc",width:"220rem"}),(0,p.Wm)(P,{label:"门牌号",prop:"sysmph"}),(0,p.Wm)(P,{label:"容量",prop:"capacity"}),(0,p.Wm)(P,{label:"状态",prop:"state"}),(0,p.Wm)(P,{label:"操作",width:"300rem"},{header:(0,p.w5)((function(){return[(0,p.Wm)(R,{modelValue:F.search,"onUpdate:modelValue":n[1]||(n[1]=function(t){return F.search=t}),placeholder:"输入实验室门牌号、名称过滤"},null,8,["modelValue"])]})),default:(0,p.w5)((function(t){return[(0,p.Wm)(J,{type:"primary",onClick:function(n){return I.repairSysDialog(t.row)}},{default:(0,p.w5)((function(){return[x]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,p.Wm)(nt,{modelValue:w.sysDialogVisible,"onUpdate:modelValue":n[4]||(n[4]=function(t){return w.sysDialogVisible=t}),title:"报修信息管理",width:"60%","before-close":w.handleClose},{default:(0,p.w5)((function(){return[(0,p.Wm)(tt,{modelValue:F.activeName,"onUpdate:modelValue":n[3]||(n[3]=function(t){return F.activeName=t}),onTabClick:I.handleClick},{default:(0,p.w5)((function(){return[(0,p.Wm)(X,{label:"非设备维修",name:"first"},{default:(0,p.w5)((function(){return[(0,p.Wm)(G,{column:1,border:""},{default:(0,p.w5)((function(){return[(0,p.Wm)(Z,null,{label:(0,p.w5)((function(){return[(0,p.Wm)(Q,null,{default:(0,p.w5)((function(){return[(0,p.Wm)(M)]})),_:1}),_]})),default:(0,p.w5)((function(){return[(0,p.Uk)((0,y.zw)(F.Yxs.dwmc),1)]})),_:1}),(0,p.Wm)(Z,null,{label:(0,p.w5)((function(){return[(0,p.Wm)(Q,null,{default:(0,p.w5)((function(){return[(0,p.Wm)(q)]})),_:1}),C]})),default:(0,p.w5)((function(){return[(0,p.Uk)((0,y.zw)(F.Sys.sysmph),1)]})),_:1}),(0,p.Wm)(Z,null,{label:(0,p.w5)((function(){return[(0,p.Wm)(Q,null,{default:(0,p.w5)((function(){return[(0,p.Wm)(A)]})),_:1}),v]})),default:(0,p.w5)((function(){return[(0,p.Uk)(" "+(0,y.zw)(F.Sys.sysmc),1)]})),_:1}),void 0==F.Sys.info?((0,p.wg)(),(0,p.j4)(Z,{key:0},{label:(0,p.w5)((function(){return[(0,p.Wm)(Q,null,{default:(0,p.w5)((function(){return[(0,p.Wm)(E)]})),_:1}),z]})),default:(0,p.w5)((function(){return[Y]})),_:1})):((0,p.wg)(),(0,p.j4)(Z,{key:1},{label:(0,p.w5)((function(){return[(0,p.Wm)(Q,null,{default:(0,p.w5)((function(){return[(0,p.Wm)(E)]})),_:1}),U]})),default:(0,p.w5)((function(){return[(0,p.Uk)(" "+(0,y.zw)(F.Sys.info),1)]})),_:1}))]})),_:1}),V,void 0!=F.Sys.info?((0,p.wg)(),(0,p.iD)("div",D,[(0,p.Wm)(J,{size:"large",type:"primary",style:{width:"6rem"},onClick:n[2]||(n[2]=(0,g.iM)((function(t){return I.sysRepairButton()}),["prevent"]))},{default:(0,p.w5)((function(){return[B]})),_:1})])):(0,p.kq)("",!0)]})),_:1}),(0,p.Wm)(X,{label:"设备维修",name:"second"},{default:(0,p.w5)((function(){return[(0,p.Wm)(K,{data:I.sbTableInfo,style:{width:"100%"}},{default:(0,p.w5)((function(){return[(0,p.Wm)(P,{type:"index"}),(0,p.Wm)(P,{label:"设备名称",prop:"sbmc"}),(0,p.Wm)(P,{label:"设备状态",prop:"state"}),(0,p.Wm)(P,{label:"故障信息",prop:"info"}),(0,p.Wm)(P,{label:"操作"},{default:(0,p.w5)((function(t){return[(0,p.Wm)(J,{type:"primary",onClick:function(n){return I.sbRepairButton(t.row.sbh)}},{default:(0,p.w5)((function(){return[O]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),_:1},8,["modelValue","onTabClick"])]})),_:1},8,["modelValue","before-close"])]})),_:1})}var I=e(61897),N=e(85574),T=(e(93970),e(77233),e(38862),e(68309),e(57327),e(41539),e(21249),e(26699),e(32023),e(44870)),$={setup:function(){var t=(0,T.iH)(""),n=(0,T.iH)(!1),e=function(t){I.T.confirm("确定关闭对话框?","温馨提示",{type:"info",center:!0}).then((function(){t()}))};return{YxsOption:t,handleClose:e,sysDialogVisible:n}},data:function(){return{currentPage:1,pagesize:10,search:"",YxsList:[],Yxs:{},SysList:[],Sys:{},activeName:"first",SbList:[],Sb:{}}},created:function(){this.getYxsList()},methods:{handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},changeYxs:function(){this.Yxs=JSON.parse(JSON.stringify(this.YxsOption)),this.YxsOption=this.Yxs.dwmc,Loading.show(),this.getSysListById(this.Yxs.dwh),Loading.hide()},getYxsList:function(){var t=this;this.$axios.get("/weixin-yxs/getAllYxs").then((function(n){var e=n.data;200==e.code&&(t.YxsList=e.data)}))},getSysListById:function(t){var n=this;this.$axios.post("/weixin-syszk/yxsFaultSysList",{id:t}).then((function(t){var e=t.data;200==e.code&&(n.SysList=e.data)}))},getSbFaultList:function(t){var n=this;this.$axios.post("/weixin-sbzk/sbFaultSbList",{sysh:t}).then((function(t){var e=t.data;200==e.code&&(n.SbList=e.data)}))},repairSysDialog:function(t){this.Sys=JSON.parse(JSON.stringify(t)),this.sysDialogVisible=!0,Loading.show(),this.getSbFaultList(this.Sys.sysh),Loading.hide()},handleClick:function(t){"second"==t.props.name&&0==this.SbList.length&&(Loading.show(),this.getSbFaultList(this.Sys.sysh),Loading.hide())},sysRepairButton:function(){var t=this;Loading.show(),this.$axios.post("/weixin-syszk/repairSys",{sysh:this.Sys.sysh,info:"",systype:"0"}).then((function(n){var e=n.data;200==e.code&&(N.z8.success("维修成功"),Loading.hide(),t.sysDialogVisible=!1,Loading.show(),t.getSysListById(t.Yxs.dwh),Loading.hide())})).catch((function(t){Loading.hide()}))},sbRepairButton:function(t){var n=this;Loading.show(),this.$axios.post("/weixin-sbzk/repairSb",{sysh:this.Sys.sysh,info:"",sbzt:"0",sbh:t}).then((function(t){var e=t.data;200==e.code&&(N.z8.success("维修成功"),Loading.hide(),n.sysDialogVisible=!1,Loading.show(),n.getSysListById(n.Yxs.dwh),Loading.hide())})).catch((function(t){Loading.hide()}))}},computed:{getSysFilter:function(){var t=this;return this.SysList.map((function(t){return 0==t.systype?t["state"]="开放":1==t.systype?t["state"]="禁用":t["state"]="报修",t})).filter((function(n){return!t.search||n.sysmc.includes(t.search.toLowerCase())||n.sysmph.includes(t.search.toLowerCase())||n.state.includes(t.search.toLowerCase())}))},sbTableInfo:function(){return this.SbList.map((function(t){return 0==t.sbzt?t["state"]="开放":1==t.sbzt?t["state"]="禁用":t["state"]="报修",t}))}}},j=e(40089);const P=(0,j.Z)($,[["render",F],["__scopeId","data-v-04a84762"]]);var R=P},86809:function(t,n,e){e(11758)},67437:function(t,n,e){e(11758)},88:function(t,n,e){e(11758)},97579:function(t,n,e){e(11758)},20877:function(t,n,e){e(11758),e(97579)},9910:function(t,n,e){e(11758),e(47195)},67219:function(t,n,e){e(11758)},172:function(t,n,e){e(11758)},93970:function(t,n,e){e(11758),e(86809),e(172),e(47195)},17960:function(t,n,e){e(11758)},47195:function(t,n,e){e(11758)},83069:function(t,n,e){e(11758),e(33877)},70451:function(t,n,e){e(11758)},33877:function(t,n,e){e(11758),e(172),e(31430),e(17960),e(70451),e(86467)},46226:function(t,n,e){e(11758)},89007:function(t,n,e){e(11758),e(88),e(31430)},76905:function(t,n,e){e(11758),e(88),e(31430),e(44566),e(70451)},80033:function(t,n,e){e(11758)}}]);
//# sourceMappingURL=572-legacy.3e641157.js.map